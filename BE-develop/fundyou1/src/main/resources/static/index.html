<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Firebase get Token Example</title>
</head>
<body>
</body>
</html>
    <script src="https://www.gstatic.com/firebasejs/6.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.8.1/firebase-messaging.js"></script>
    <script>
    var config = { apiKey: "AIzaSyAI5wWWXhm691_0daTF1MfEtimXpAsa39I", authDomain: "fundyou-3808d.firebaseapp.com", projectId: "fundyou-3808d", storageBucket: "fundyou-3808d.appspot.com", messagingSenderId: "215863555712", appId: "1:215863555712:web:3fe9ab09d8def9e1a55865", measurementId: "G-8YRV0TMMQ9" };
    firebase.initializeApp(config);
    const messaging = firebase.messaging();
    //token값 알아내기
    messaging.requestPermission() .then(function() {
    // 알람이 허용되었을 때 토큰을 반환합니다. // 해당 토큰을 통해 FCM 특정 사용자에게 메시지를 보낼 수 있습니다.
    return messaging.getToken(); }) .then(async function(token) {
    console.log(token);
    // 해당 onMessage는 데이터메시지로, 포그라운드인 상태에서 // FCM 메시지를 전송하는 경우 콘솔에 표기하도록 작성된 코드입니다.
    messaging.onMessage(payload => { console.log(payload); }) });
    </script>